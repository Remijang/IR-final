[
    {
        "type": "text",
        "text": "13.1.3 Design of the I/O System ",
        "text_level": 1,
        "page_idx": 648
    },
    {
        "type": "text",
        "text": "I/O Buses ",
        "text_level": 1,
        "page_idx": 648
    },
    {
        "type": "text",
        "text": "Let us take a look at Table 13.1 again. We notice that there are different kinds of bus technologies such as USB, PCI Express, and SATA. Here, a bus is defined as a link between two or more than two elements in the I/O system. We use different kinds of buses for connecting different kinds of I/O devices. For example, we use the USB bus to connect USB devices such as pen drives, and cameras. We use SATA or SCSI buses to connect to the hard disk. We need to use so many different types of buses for several reasons. The first is that the bandwidth requirements of different I/O devices are very different. We need to use extremely high speed buses for graphics cards. Whereas, for the keyboard, and mouse, we can use a significantly simpler bus technology because the total bandwidth demand is minimal. The second reason is historical. Historically, hard disk vendors have used the SATA or IDE buses, whereas graphics card vendors have been using the AGP bus. After 2010, graphics card companies shifted to using the PCI Express bus. Hence, due to a combination of factors, I/O system designers need to support a large variety of buses. ",
        "page_idx": 648
    },
    {
        "type": "text",
        "text": "Definition 142 ",
        "text_level": 1,
        "page_idx": 648
    },
    {
        "type": "text",
        "text": "$A$ bus is a set of wires that is used to connect multiple devices in parallel. The devices can use the bus to transmit data and control signals between each other. ",
        "page_idx": 648
    },
    {
        "type": "text",
        "text": "Now, let us look deeper into the structure of a bus. A bus is much more than a set of copper wires between two end points. It is actually a very complex structure and its specifications are typically hundreds of pages long. We need to be concerned about its electrical properties, error control, transmitter and receiver circuits, speed, power, and bandwidth. We shall have ample opportunity to discuss high speed buses in this chapter. Every node (source or destination) connected to a bus requires a bus controller to transmit and receive data. Although the design of a bus is fairly complicated, we can abstract it as a logical link that seamlessly and reliably transfers bytes from a single source to a set of destinations. ",
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "The Chipset and Motherboard ",
        "text_level": 1,
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "For designing the I/O system of a computer, we need to first provide external I/O ports that consist of a set of metallic pins or sockets. These I/O ports can be used to attach external devices. The reader can look at the side of her laptop or the back of her desktop to find the set of ports that are supported by her computer. Each port has a dedicated port controller that interfaces with the device, and then the port controller needs to send the data to the CPU using one of the buses listed in Table 13.1. ",
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "Here, the main design issue is that it is not possible to connect the CPU to each and every I/O port through an I/O bus. There are several reasons for this. ",
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "1. If we connect the CPU to each and every I/O port, then the CPU needs to have bus controllers for every single bus type. This will increase the complexity, area, and power utilization of the CPU.   \n2. The number of output pins of a CPU is limited. If the CPU is connected to a host of I/O devices, then it requires a lot of extra pins to support all the I/O buses. Most CPUs typically do not have enough pins to support this functionality.   \n3. From a commercial viewpoint, it is a good idea to separate the design of the CPU from the design of the I/O system. It is best to keep both of them separate. This way, it is possible to use the CPU in a large variety of computers. ",
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "Hence, most processors are connected to only a single bus, or at most 2 to 3 buses. We need to use ancillary chips that connect the processor to a host of different I/O buses. They need to aggregate the traffic from I/O devices, and properly route data generated by the CPU to the correct I/O devices and vice versa. These extra chips comprise the chipset of a given processor. The chips of the chipset are interconnected with each other on a printed circuit board known as the motherboard. ",
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "Definition 143 ",
        "text_level": 1,
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "Chipset These are a set of chips that are required by the main CPU to connect to main memory, the I/O devices, and to perform system management functions.   \nMotherboard All the chips in the chipset are connected to each other on a printed circuit board, known as the motherboard. ",
        "page_idx": 649
    },
    {
        "type": "text",
        "text": "Architecture of the Motherboard ",
        "text_level": 1,
        "page_idx": 650
    },
    {
        "type": "image",
        "img_path": "images/3eae9108e87773696cddf55183fbc634c6edc79c12b5048670990077b160b609.jpg",
        "img_caption": [
            "Figure 13.4: Architecture of the $\\mathrm { I } / \\mathrm { O }$ system "
        ],
        "img_footnote": [],
        "page_idx": 650
    },
    {
        "type": "text",
        "text": "Most processors typically have two important chips in their chipset \u2013 North Bridge and South Bridge \u2013 as shown in Figure 13.4. The CPU is connected to the North Bridge chip using the Front Side Bus (FSB). The North Bridge chip is connected to the DRAM memory modules, the graphics card, and the South Bridge chip. In comparison, the South Bridge chip is meant to handle much slower I/O devices. It is connected to all the USB devices including the keyboard and mouse, audio devices, network cards, and the hard disk. ",
        "page_idx": 650
    },
    {
        "type": "text",
        "text": "For the sake of completeness, let us mention two other common types of buses in computer systems. The first type of bus is called a back side bus, which is used to connect the CPU to the L2 cache. In the early days, processors used off chip L2 caches. They communicated with them through the back side bus. Nowadays, the L2 cache has moved on chip, and consequently the back side bus has also moved on chip. It is typically clocked at the core frequency, and is a very fast bus. The second type of bus is known as a backplane bus. It is used in large computer or storage systems that typically have multiple motherboards, and peripheral devices such as hard disks. All these entities are connected in parallel to a single backplane bus. The backplane bus itself consists of multiple parallel copper wires with a set of connectors that can be used to attach devices. ",
        "page_idx": 650
    },
    {
        "type": "text",
        "text": "Definition 144 ",
        "text_level": 1,
        "page_idx": 651
    },
    {
        "type": "text",
        "text": "Front side bus A bus that connects the CPU to the memory controller, or the North Bridge chip in the case of Intel systems. ",
        "page_idx": 651
    },
    {
        "type": "text",
        "text": "Back side bus A bus that connects the CPU to the L2 cache. ",
        "page_idx": 651
    },
    {
        "type": "text",
        "text": "Backplane bus A system-wide bus that is attached to multiple motherboards, storage, and peripheral devices. ",
        "page_idx": 651
    },
    {
        "type": "text",
        "text": "Both the North Bridge, and South Bridge chips need to have bus controllers for all the buses that they are attached with. Each bus controller co-ordinates the access to its associated bus. After successfully receiving a packet of data, it sends the packet to the destination (towards the CPU, or the I/O device). Since these chips interconnect various types of buses, and temporarily buffer data values if the destination bus is busy, they are known as bridges (bridge between buses). ",
        "page_idx": 651
    },
    {
        "type": "text",
        "text": "The memory controller is a part of the North Bridge chip and implements read/write requests to main memory. In the last few years processor vendors have started to move the memory controller into the main CPU chip, and also make it more complicated. Most of the augmentations to the memory controller are focused on reducing main memory power, reducing the number of refresh cycles, and optimizing performance. Starting from the Intel Sandybridge processor the graphics processor has also moved on chip. The reason for moving things into the CPU chip is because (1) we have extra transistor\u2019s available, and (2) on-chip communication is much faster than off-chip communication. A lot of embedded processors also integrate large parts of the South Bridge chip, and port controllers, along with the CPU in a single chip. This helps in reducing the size of the motherboard, and allows more efficient communication between the I/O controllers and the CPU. Such systems are known as SOCs (System on Chip). ",
        "page_idx": 651
    },
    {
        "type": "text",
        "text": "Definition 145 ",
        "text_level": 1,
        "page_idx": 651
    },
    {
        "type": "text",
        "text": "A system on a chip (SOC) typically packages all the relevant parts of a computing system into one single chip. This includes the main processor, and most of the chips in the I/O system. ",
        "page_idx": 651
    }
]